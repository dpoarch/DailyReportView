
<h1>My Mall</h1>
<div class="row">
    <div class="col-md-10">
        <div class="row">
            <% @products.each do |p| %>
                <div class="col-md-4" >
                    <div class="card mb-4 box-shadow">
                        <div style="width: 100%; height: 210px;text-align: center">
                            <%= image_tag(p.product.image , :style =>"width: auto; height: 200px;", :class =>"card-img-top") %>
                        </div>
                        <div class="card-body">
                            <b><%= p.product.name%></b>
                            <p class="card-text"><%= p.product.description%></p>
                            <p class="card-text">Price: <%= number_to_currency(p.price, precision: 2)  %></p>
                            <p class="card-text">Store:<b> <%= p.location.description%></b></p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a href="javascript:void()" class="btn btn-sm btn-outline-secondary add-cart" data-url="<%= addcart_path(p) %>">Add Cart</a>
                                </div>
                                <small class="text-muted"> <%= p.quantity>0? "#{p.quantity} #{p.uom} available":'SOLD' %></small>
                            </div>
                        </div>
                    </div>
                </div>
            <% end %>
        </div>
    </div>
    <div class="col-md-2">
        <div class="row" id="cartitems">
        </div>
    </div>
</div>
<%= hidden_field_tag :authenticity_token, form_authenticity_token %>
<input type="hidden" value="<%= homecart_path %>" id="homecart_url"/>
<%= javascript_include_tag "cart" %>


